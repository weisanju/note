## 模块

- 一个模块就是一个包含python代码的文件，后缀名称是.py就可以，模块就是个python文件



### **如何定义模块**

- 模块就是一个普通文件，所以任何代码可以直接书写
- 不过根据模块的规范，最好在本块中编写以下内容
  - 函数（单一功能）
  - 类（相似功能的组合，或者类似业务模块）
  - 测试代码

### **如何使用模块**

#### **模块直接导入**

- 模块名称直接以数字开头，需要借助importlib帮助

**语法**

- import module_name module_name.function_name module_name.class_name

	# 案例 02.py
	# 借助于importlib包可以实现导入以数字开头的模块名称
	import importlib
	
	# 相当于导入了一个叫01的模块并把导入模块赋值给了a
	
	a = importlib.import_module("01")
	stu = a.Student()
	stu.say() 
#### 导入别名

**import 模块 as 别名**

#### 选择性导入

*from module_name import func_name, class_name*

```
from p01 import *
```

```
if __name__ == ``__main__
 的使用

- 可以有效的避免模块代码被导入的时候被动执行的问题
- 建议所有程序的入口都以此代码为入口
```

### 模块的搜索路径和存储

- 加载模块的时候，系统会在哪些地方寻找此模块

### 系统默认的模块搜索路径

```
  import sys
  sys.path  属性可以获取路径列表
  # 案例 p06.py
```

添加搜索路径

```python
  sys.path.append(dir)
```

模块的加载顺序

1. 搜索内存中已经加载好的模块
2. 搜索python的内置模块
3. 搜索sys.path路径



## 包

- 包是一种组织管理代码的方式，包里面存放的是模块
- 用于将模块包含在一起的文件夹就是包

包的导入操作

```
import package_name
```

- 直接导入一个包，可以使用__init__.py中的内容

- 使用方式是：

  ```undefined
  package_name.func_name
  package_name.class_name.func_name()
  ```

* 此种方式的访问内容是

```python
	# pkg01.__init__py
	def inInit():
	    print("I am in init of package")
 
	# pkg01.p01.py
	class Student():
	    def __init__(self, name = "NoName", age = 18):
	        self.name = name
	        self.age = age
	
	    def say(self):
	            print("My name is {0}".format(self.name))
	
		def sayHello():
		    print("Hi, ")
 

	print("我是模块p01")
```



**导入包重命名**

- 注意的是此种方法是默认对__init__.py内容的导入

```
import package_name as p
```

 

**导入包中模块**

```
import package.module
```

```python
  package.module.func_name
  package.module.class.fun()
  package.module.class.var
```



### 选择性导入多个

```python
from ... import 导入

from package import module1, module2, module3, ... ...
```

此种导入方法不执行 `__init__` 的内容





**导入init包中的所有内容**

```
from package import *
```



**导入指定模块的所有内容**

```python
from package.module import *
```



### `__all__` 的用法

- 在使用*from package import ** 的时候，* `*` 可以导入的内容
- `__init__.py` 中如果文件为空，或者没有 `__all__`, 那么只可以把 `__init__` 中的内容导入
- `__init__` 如果设置了 `__all__` 的值，那么则按照 `__all__` 指定的子包或者模块进行加载

如此则不会载入 `__init__` 中的内容

 `__all__=['module1', 'module2', 'package1'... ...]`



```python
	# pkg02.__init__.py
	__all__=['p01']
	
	def inInit():
	    print("T am in init of package")
 
	# pkg02.p01.py
	class Student():
    	def __init__(self, name = "NoName", age = 18):
        	self.name = name
        	self.age = age
 
    	def say(self):
            print("My name is {0}".format(self.name))
	
		def sayHello():
	    	print("Hi, ")
	
	# 此判断语句建议一直作为程序的入口
	if __name__ == '__main__':
	    print("我是模块p01")

```

 

# 命名空间

- 用于区分不同位置不同功能但相同名称的函数或者变量的一个特定前缀

- 作用是防止命名冲突

  ```undefined
    setName()
    Student.setName()
    Dog.setName()
  ```